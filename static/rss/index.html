<?xml version="1.0" encoding="UTF-8"?><rss xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:content="http://purl.org/rss/1.0/modules/content/" xmlns:atom="http://www.w3.org/2005/Atom" version="2.0" xmlns:media="http://search.yahoo.com/mrss/"><channel><title><![CDATA[Peter Tran]]></title><description><![CDATA[Making the world a more interesting place one bad take at a time!]]></description><link>pitatran.com/</link><image><url>pitatran.com/favicon.png</url><title>Peter Tran</title><link>pitatran.com/</link></image><generator>Ghost 3.33</generator><lastBuildDate>Tue, 29 Sep 2020 00:23:49 GMT</lastBuildDate><atom:link href="pitatran.com/rss/" rel="self" type="application/rss+xml"/><ttl>60</ttl><item><title><![CDATA[Baby's First Website]]></title><description><![CDATA[<p></p><p>It’s a rite of passage for every Computer Science student to build their own website in order to satisfy their masochist desires. While I’m not quite a student anymore, I figured it was worthwhile to try my hand at it. I was also inspired by one of my</p>]]></description><link>pitatran.com/babys-first-site/</link><guid isPermaLink="false">5f694ae24b827ba07badd4f3</guid><category><![CDATA[about-me]]></category><category><![CDATA[project]]></category><dc:creator><![CDATA[Peter Tran]]></dc:creator><pubDate>Mon, 28 Sep 2020 23:37:45 GMT</pubDate><media:content url="pitatran.com/content/images/2020/09/DSC_0769.jpg" medium="image"/><content:encoded><![CDATA[<img src="pitatran.com/content/images/2020/09/DSC_0769.jpg" alt="Baby's First Website"><p></p><p>It’s a rite of passage for every Computer Science student to build their own website in order to satisfy their masochist desires. While I’m not quite a student anymore, I figured it was worthwhile to try my hand at it. I was also inspired by one of my coworker’s much nicer <a href="https://michaelbanks.org/">site</a> he built on AWS. He wrote a fairly detailed writeup on his <a href="https://blog.michaelbanks.org/manage-a-serverless-blog/">blog</a> which I used to help guide my process. I borrowed some of his design choices for my own site and my final setup (so far) is very similar to his. Overall, I’m happy with my site, it’s been fairly simple to make and deploy changes though of course, I may make some tweaks further down the line. Most importantly, it’s been inexpensive to host making it a much better option for broke students to try out.</p><figure class="kg-card kg-image-card kg-card-hascaption"><img src="pitatran.com/content/images/2020/09/SiteDiagram-1.jpg" class="kg-image" alt="Baby's First Website" srcset="pitatran.com/content/images/size/w600/2020/09/SiteDiagram-1.jpg 600w, pitatran.com/content/images/2020/09/SiteDiagram-1.jpg 640w"><figcaption>Site Architecture</figcaption></figure><p>I opted to host my website on AWS over other clouds like Azure since I have the most experience using AWS’s services (and they pay my bills). AWS offers some fairly easy to use tools specifically for building and maintaining a static site so there was no need to configure or manage a traditional web server. The core of my site is a service called <a href="https://aws.amazon.com/s3/">S3</a> which is commonly used to securely and cheaply store data. S3 also has a convenient feature that allows you to configure it to <a href="https://docs.aws.amazon.com/AmazonS3/latest/dev/WebsiteHosting.html">host a static website</a> which I leveraged. I started off by grabbing a HTML sample, slapped it on a public S3 bucket and with a few easy clicks, I had a pretty website available to anyone in the world. Mission accomplished, end transmission!</p><figure class="kg-card kg-image-card kg-card-hascaption"><img src="pitatran.com/content/images/2020/09/bucketconfig.PNG" class="kg-image" alt="Baby's First Website" srcset="pitatran.com/content/images/size/w600/2020/09/bucketconfig.PNG 600w, pitatran.com/content/images/2020/09/bucketconfig.PNG 618w"><figcaption>S3 Website Configuration</figcaption></figure><p>That would be too easy and having your entire site’s contents directly accessible isn’t the <a href="https://www.computerweekly.com/news/252476870/Exposed-AWS-buckets-again-implicated-in-multiple-data-leaks">best security practice</a> so I took some additional steps to restrict access. Fortunately, AWS has a neat service called <a href="https://aws.amazon.com/cloudfront/">CloudFront</a> which is AWS’s scalable content delivery network. From a high level, CloudFront serves content out of <a href="https://aws.amazon.com/premiumsupport/knowledge-center/cloudfront-https-requests-s3/">S3</a> or HTTP servers to customers all around the world by caching content at edge locations. Customers would be directed to the edge location closest to them when they make requests to your content, allowing them to access it faster than directly through the bucket. In the context of security, CloudFront also has a useful feature that allows us to restrict access to S3 content called an <a href="https://docs.aws.amazon.com/AmazonCloudFront/latest/DeveloperGuide/private-content-restricting-access-to-s3.html">Origin Access Identity</a>. It is essentially a role that CloudFront creates for CloudFront to use to access your S3. All you have to do is throw a policy onto your bucket with the Origin Access Identity as the principal and give it s3:GetObject access. After I applied such an ACL to my bucket, I was able to prevent users from directly accessing the bucket while providing CloudFront the access needed.</p><figure class="kg-card kg-image-card kg-card-hascaption"><img src="pitatran.com/content/images/2020/09/websiteiteration.PNG" class="kg-image" alt="Baby's First Website" srcset="pitatran.com/content/images/size/w600/2020/09/websiteiteration.PNG 600w, pitatran.com/content/images/size/w1000/2020/09/websiteiteration.PNG 1000w, pitatran.com/content/images/size/w1600/2020/09/websiteiteration.PNG 1600w, pitatran.com/content/images/2020/09/websiteiteration.PNG 1621w" sizes="(min-width: 720px) 720px"><figcaption>Website 1.0v</figcaption></figure><p>Now there were still a lot of quality of life changes I wanted to make for my users. I bought a cheap domain off of <a href="https://aws.amazon.com/route53/">Route53</a> (AWS’s DNS service) and pointed it towards my CloudFront distribution so users can access my site through something human readable. I also got a certificate from AWS Certificate Manager, <a href="https://aws.amazon.com/certificate-manager/">ACM</a>, and had my CloudFront distribution use the certificate so that my users can access my content with HTTPS. My biggest hurdle though was figuring out how to redirect a URL to the index.html in the bucket (ie pitatran.com/aboutme -&gt; pitatran.com/aboutme/index.html). By default, CloudFront will direct pitatran.com/aboutme to the folder in S3 and not the index.html object with the actual page content so users would see a big fat permissions denied unless they manually append index.html. This is obviously user hostile so I had to make changes to avoid this. After doing some extensive research I discovered that CloudFront doesn’t offer an easy way to do this without a work around. The most elegant solution I found was to set up a CloudFront behaviour that calls a <a href="https://serverlessrepo.aws.amazon.com/applications/arn:aws:serverlessrepo:us-east-1:621073008195:applications~standard-redirects-for-cloudfront">lambda function</a> to redirect the user to the index.html file.</p><p>Another improvement I made was to use AWS <a href="https://aws.amazon.com/codedeploy/">CodePipeline</a> to automatically grab changes to my <a href="https://github.com/Peter1295537/pitatran.com">github repo for the site</a> and push them to the S3 bucket hosting the website. This allowed me to make changes to my website by pushing my updates without fiddling with the console or god forbid use the AWS CLI. This also had the added benefit of providing a backup of my changes in case I ever wanted to rollback for whatever reason.</p><figure class="kg-card kg-image-card kg-card-hascaption"><img src="pitatran.com/content/images/2020/09/codepipeline.PNG" class="kg-image" alt="Baby's First Website"><figcaption>CodePipeline to my Github Repo</figcaption></figure><p>With all the work on AWS done, I could now focus on improving the site’s actual contents. For the blog itself I chose to use <a href="https://ghost.org/">Ghost</a>, an open-source platform to manage my posts and content. It offered an easy to use post management and tagging system so I didn’t have to mess with HTML manually. Using the self hosted server and this <a href="https://github.com/Fried-Chicken/ghost-static-site-generator">handy script</a>, I was able to generate the static content to have the professional looking site you see now.</p><p>I’m more than happy with the results of this project so far, it was a fun experiment with AWS and is an surprisingly affordable option to host a blog. My only real expense was the annual fee for the domain ($12) and a few cents a month for using the other AWS Services. Compared to Medium and even Ghost’s managed service it’s a bargain especially for hobbyists and students who won’t be regularly making posts. I would recommend anyone interested in starting a blog or learning AWS to give it a try and have fun!</p>]]></content:encoded></item></channel></rss>